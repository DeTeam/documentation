---
id: temporal_client
title: Temporal Client - Java SDK feature guide
sidebar_label: Temporal Client
sidebar_position: 5
toc_max_heading_level: 4
description: The Temporal Client section of the Temporal Developer's guide provides guidance on how to configure Java Client code to connect to the Temporal Service.
keywords:
 - Java
 - developer-guide
 - guide-context
tags:
 - java
 - client
 - temporal client
 - workers
 - applications
 - developer-guide
 - guide-context
---

This guide introduces Temporal Clients.
It explains the role and use of Clients and shows you how to configure your Java Client code to connect to the Temporal Service.

This section includes the following topics:

* [How to initialize a Temporal Client for the Temporal CLI development service](#how-to-initialize-a-temporal-client-for-the-temporal-cli-development-service)
* [How to initialize a Temporal Client to connect to a custom Namespace](#how-to-initialize-a-temporal-client-to-connect-to-a-custom-namespace)
* [How to initialize a Temporal Client to connect to Temporal Cloud](#how-to-initialize-a-temporal-client-to-connect-to-temporal-cloud)

## How to initialize a Temporal Client for the Temporal CLI development service
The Java SDK provides an already-configured way to connect to a locally hosted Temporal Service.
The `.newLocalServiceStubs()` method returns a stub that points to the default Temporal CLI service settings (localhost:7233).

<!--SNIPSTART javasdk-build-caller-app-using-local-client {"selectedLines": ["11-17"]}-->
[sample-apps/java/client/devserver-client-sample/src/main/java/clientsample/YourCallerApp.java](https://github.com/temporalio/documentation/blob/main/sample-apps/java/client/devserver-client-sample/src/main/java/clientsample/YourCallerApp.java)
```java
// ...
        // Create an instance that connects to a Temporal Service running on the local
        // machine, using the default port (7233)
        WorkflowServiceStubs serviceStub = WorkflowServiceStubs.newLocalServiceStubs();

        // Initialize the Temporal Client
        // This application uses the Client to communicate with the local Temporal Service
        WorkflowClient client = WorkflowClient.newInstance(serviceStub);
```
<!--SNIPEND-->

The Namespace is assumed to be 'default' unless otherwise specified.

You are now ready to use the Temporal CLI development service.

## How to initialize a Temporal Client to connect to a custom Namespace

Custom Namespaces on local development systems let you to build out new features while isolating Workflow Executions.
Namespaces are established by setting a Client's options to configure the new instance.

<!--SNIPSTART javasdk-build-caller-app-using-local-client-custom-namespace {"selectedLines": ["23-31"]}-->
[sample-apps/java/client/devserver-namespace-client-sample/src/main/java/clientsample/YourCallerApp.java](https://github.com/temporalio/documentation/blob/main/sample-apps/java/client/devserver-namespace-client-sample/src/main/java/clientsample/YourCallerApp.java)
```java
// ...
        // Add the Namespace as a Client Option
        WorkflowClientOptions clientOptions = WorkflowClientOptions
            .newBuilder()
            .setNamespace(namespace)
            .build();

        // Initialize the Temporal Client
        // This application uses the Client to communicate with the Temporal Service
        WorkflowClient client = WorkflowClient.newInstance(service, clientOptions);
```
<!--SNIPEND-->

Your Client is now configured to use the custom Namespace.

## How to initialize a Temporal Client to connect to Temporal Cloud.

When you use a remote service, you don't use the `newLocalServicesStubs` convenience method.
Instead, set your connection details as stub configuration options:

<!--SNIPSTART javasdk-build-caller-app-using-temporal-cloud {"selectedLines": ["46-54"]}-->
[sample-apps/java/client/cloudserver-client-sample/src/main/java/clientsample/YourCallerApp.java](https://github.com/temporalio/documentation/blob/main/sample-apps/java/client/cloudserver-client-sample/src/main/java/clientsample/YourCallerApp.java)
```java
// ...
            // Set the Service Stub options (SSL context and gRPC endpoint)
            WorkflowServiceStubsOptions stubsOptions = WorkflowServiceStubsOptions
                .newBuilder()
                .setSslContext(sslContext)
                .setTarget(gRPCEndpoint)
                .build();

             // Create a stub that accesses a Temporal Service
            WorkflowServiceStubs serviceStub = WorkflowServiceStubs.newServiceStubs(stubsOptions);
```
<!--SNIPEND-->

Each Temporal Cloud service Client has four prerequisites.
The sample code assumes you've set these as environmental variables in the shell that runs the Client code:

* **TEMPORAL\_CLOUD\_NAMESPACE**: The full Namespace Id from the [Cloud Namespace](https://cloud.temporal.io/namespaces) details page.
* **TEMPORAL\_CLOUD\_GRPC\_ENDPOINT**: The gRPC endpoint from the [Cloud Namespace](https://cloud.temporal.io/namespaces) details page.
* **TEMPORAL\_MTLS\_PRIVATE\_KEY\_PATH**: The path to the file with your mTLS private key.
* **TEMPORAL\_MTLS\_CERT\_PATH**: The path to the .pem file with your mTLS x509 Certificate.

Retrieve and test these values before building your Client.

<!--SNIPSTART javasdk-build-caller-app-using-temporal-cloud {"selectedLines": ["24-38"]}-->
[sample-apps/java/client/cloudserver-client-sample/src/main/java/clientsample/YourCallerApp.java](https://github.com/temporalio/documentation/blob/main/sample-apps/java/client/cloudserver-client-sample/src/main/java/clientsample/YourCallerApp.java)
```java
// ...
    private static String getenv(String envName) {
        String value = System.getenv(envName);
        if (value == null || value.isEmpty()) {
            System.err.println("Error: Environmental variable " + envName + " could not be retrieved.");
            System.exit(1);
        }
        return value;
    }

    public static void main(String[] args) {
        // Populate connection pre-requisites from environmental variables
        String namespace = getenv("TEMPORAL_CLOUD_NAMESPACE");
        String gRPCEndpoint = getenv("TEMPORAL_CLOUD_GRPC_ENDPOINT");
        String clientKeyPath = getenv("TEMPORAL_MTLS_PRIVATE_KEY_PATH");
        String clientCertPath = getenv("TEMPORAL_MTLS_CERT_PATH");
```
<!--SNIPEND-->

The following sample generates an SSL context from the mTLS .pem and .key files.
Along with the gRPC endpoint, this information configures a service stub for Temporal Cloud.
Add the Namespace to your Client build options and initialize the new Client:

<!--SNIPSTART javasdk-build-caller-app-using-temporal-cloud {"selectedLines": ["41-64"]}-->
[sample-apps/java/client/cloudserver-client-sample/src/main/java/clientsample/YourCallerApp.java](https://github.com/temporalio/documentation/blob/main/sample-apps/java/client/cloudserver-client-sample/src/main/java/clientsample/YourCallerApp.java)
```java
// ...
            // Generate an SSL context
            InputStream clientCertInputStream = new FileInputStream(clientCertPath);
            InputStream clientKeyInputStream = new FileInputStream(clientKeyPath);
            SslContext sslContext = SimpleSslContextBuilder.forPKCS8(clientCertInputStream, clientKeyInputStream).build();

            // Set the Service Stub options (SSL context and gRPC endpoint)
            WorkflowServiceStubsOptions stubsOptions = WorkflowServiceStubsOptions
                .newBuilder()
                .setSslContext(sslContext)
                .setTarget(gRPCEndpoint)
                .build();

             // Create a stub that accesses a Temporal Service
            WorkflowServiceStubs serviceStub = WorkflowServiceStubs.newServiceStubs(stubsOptions);

            // Set the Client options
            WorkflowClientOptions clientOptions = WorkflowClientOptions
                .newBuilder()
                .setNamespace(namespace)
                .build();

            // Initialize the Temporal Client
            // This application uses the Client to communicate with the Temporal Service
            WorkflowClient client = WorkflowClient.newInstance(serviceStub, clientOptions);
```
<!--SNIPEND-->

You are now ready to start working with Temporal Cloud.
